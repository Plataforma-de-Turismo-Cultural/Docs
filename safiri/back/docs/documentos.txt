Perfeito ðŸ’¡ â€” queres entender **como o projeto funciona como um todo**, isto Ã©, a **lÃ³gica de funcionamento entre os apps (`users`, `posts`, `core`)**, **como os dados fluem** e **como o backend responde Ã s aÃ§Ãµes do utilizador**.

Vamos ver o **fluxo completo de funcionamento**, dividido em **camadas e etapas**:

---

## ðŸ§± 1ï¸âƒ£ Estrutura e FunÃ§Ã£o dos Apps

| App              | FunÃ§Ã£o                 | Responsabilidade principal                                         |
| :--------------- | :--------------------- | :----------------------------------------------------------------- |
| **`apps.users`** | GestÃ£o de utilizadores | AutenticaÃ§Ã£o, perfis, favoritos                                    |
| **`apps.posts`** | InteraÃ§Ãµes sociais     | PublicaÃ§Ãµes, comentÃ¡rios, likes e avaliaÃ§Ãµes                       |
| **`apps.core`**  | Dados base do turismo  | AgÃªncias, biodiversidade, sÃ­tios histÃ³ricos (dados institucionais) |

---

## âš™ï¸ 2ï¸âƒ£ Fluxo de Funcionamento Geral

O sistema segue uma **sequÃªncia lÃ³gica de aÃ§Ãµes** baseada nas relaÃ§Ãµes entre os modelos.

### ðŸ”¹ Etapa 1 â€” AutenticaÃ§Ã£o e Utilizadores

1. O utilizador Ã© criado (`User`), com dados bÃ¡sicos como `username`, `email`, `is_agency`, etc.
2. Ao ser criado, Ã© gerado automaticamente um `UserProfile` (podes fazer isso via sinal `post_save` no futuro).
3. Esse utilizador pode:

   * Fazer login (via API `/api/users/`),
   * Atualizar o perfil (`/api/profiles/`),
   * Guardar favoritos (`favourites`).

---

### ðŸ”¹ Etapa 2 â€” Dados Base (Core)

Antes de criar posts ou reviews, o sistema precisa conhecer os **dados do turismo**:

* **AgÃªncias** (quem gere os destinos)
* **SÃ­tios histÃ³ricos**
* **Registos de biodiversidade**

Esses dados vÃªm geralmente de **fontes oficiais** (podes importar CSVs, por exemplo).

---

### ðŸ”¹ Etapa 3 â€” CriaÃ§Ã£o de ConteÃºdo (Posts)

1. Um `User` (normal ou agÃªncia) publica um `Post`:

   ```json
   POST /api/posts/
   {
     "author": "uuid_user",
     "title": "Melhores Praias de Benguela",
     "text": "Fui a Benguela e adorei!",
     "destination": "uuid_destino",
     "category": "uuid_categoria"
   }
   ```

2. O backend grava o post, associa ao utilizador e incrementa Ã­ndices como `created_at` para ordenaÃ§Ã£o.

3. A API devolve o post criado, e ele passa a aparecer no feed.

---

### ðŸ”¹ Etapa 4 â€” InteraÃ§Ãµes (ComentÃ¡rios e Likes)

1. Outros utilizadores podem comentar:

   ```json
   POST /api/comments/
   {
     "post": "uuid_post",
     "author": "uuid_user",
     "text": "Que lugar incrÃ­vel!"
   }
   ```

2. Ou reagir com â€œlikesâ€:

   ```json
   POST /api/likes/
   {
     "post": "uuid_post",
     "user": "uuid_user"
   }
   ```

3. O contador de `likes` e `comments_count` no `Post` Ã© atualizado automaticamente (podes criar signals para isso).

---

### ðŸ”¹ Etapa 5 â€” Reviews de Destinos

1. Utilizadores tambÃ©m podem avaliar destinos (`Review`):

   ```json
   POST /api/reviews/
   {
     "destination": "uuid_destino",
     "author": "uuid_user",
     "rating": 5,
     "title": "Maravilhoso",
     "text": "Lugar limpo e muito bonito!"
   }
   ```
2. O sistema guarda a avaliaÃ§Ã£o, associando-a ao utilizador e destino.

---

### ðŸ”¹ Etapa 6 â€” ExploraÃ§Ã£o de Dados

O frontend (Flutter ou web) consome endpoints como:

* `/api/posts/` â†’ feed de publicaÃ§Ãµes
* `/api/destinations/` â†’ lista de destinos turÃ­sticos
* `/api/reviews/?destination=id` â†’ avaliaÃ§Ãµes de um destino
* `/api/users/` â†’ perfis

Isso permite criar uma **rede social turÃ­stica**, onde:

* Pessoas partilham experiÃªncias (`Post`),
* Interagem (`Comment`, `Like`),
* E avaliam destinos (`Review`).

---

## ðŸ”’ 3ï¸âƒ£ SeguranÃ§a e PermissÃµes

O projeto jÃ¡ pode ser preparado para:

* **AutenticaÃ§Ã£o JWT** (login/logout, endpoints protegidos),
* **PermissÃµes DRF** (ex: apenas o autor pode editar o seu post),
* **Filtros e pesquisas** (por destino, categoria, data, etc.).

---

## ðŸ§© 4ï¸âƒ£ Fluxo Resumido do Sistema

```mermaid
graph TD
    A[User] -->|cria| B[UserProfile]
    A -->|faz| C[Post]
    C -->|recebe| D[Comment]
    C -->|recebe| E[Like]
    A -->|avalia| F[Review]
    F -->|refere-se a| G[Destination]
    G -->|pertence a| H[Core Data]
```

---

Se quiseres, posso criar um **diagrama visual interativo (mermaid ou imagem)** mostrando o fluxo completo entre os apps e os endpoints â€” quer que eu gere isso?

